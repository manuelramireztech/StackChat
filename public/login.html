<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-signin-client_id" content="512281965081-gockhg56hetfu0vq1ic65oeikkud6eh3.apps.googleusercontent.com">
    <title>STACKCHAT</title>
    <link rel='stylesheet' href='assets/css/tailwind.min.css'>
    <link rel='stylesheet' href='assets/css/style.css'>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
</head>
<body>
    <section class="flex flex-col md:flex-row h-screen items-center">

      <div class="bg-white hidden lg:block w-full md:w-1/2 xl:w-2/3 h-screen">
        <img src="assets/img/imagebg.jpeg" alt="" class="w-full h-full object-cover">
        </div>
      
        <div class="bg-white w-full md:max-w-md lg:max-w-full md:mx-auto md:mx-0 md:w-1/2 xl:w-1/3 h-screen px-6 lg:px-16 xl:px-12
              flex items-center justify-center">
      
          <div class="w-full h-100">
      
      
            <h1 class="text-xl md:text-2xl font-bold leading-tight mt-4 mb-10">Login to your account</h1>

            <div class="g-signin2" data-onsuccess="onSignIn" data-width="380" data-height="50" data-longtitle="true"></div>
              
          <div class="mt-4 flex items-center justify-between">
              <span class="border-b w-1/5 lg:w-1/4"></span>
              <a href="#" class="text-xs text-center text-gray-500 uppercase">or login with email</a>
              <span class="border-b w-1/5 lg:w-1/4"></span>
          </div>
      
            <form class="mt-6 loginForm" action="#" method="POST">
              <div>
                <label class="block text-gray-700">Email Address</label>
                <input type="email"  id="userEmail" placeholder="Enter Email Address" class="w-full px-4 py-3 rounded-lg bg-gray-200 mt-2 border focus:border-blue-500 focus:bg-white focus:outline-none" autofocus autocomplete required>
              </div>
      
              <div class="mt-4">
                <label class="block text-gray-700">Password</label>
                <input type="password"  id="userPassword" placeholder="Enter Password" minlength="6" class="w-full px-4 py-3 rounded-lg bg-gray-200 mt-2 border focus:border-blue-500
                      focus:bg-white focus:outline-none" required>
              </div>
      
              <button type="submit" class="w-full block bg-blue-500 hover:bg-blue-400 focus:bg-blue-400 text-white font-semibold rounded-lg
                    px-4 py-3 mt-6">Log In</button>
            </form>
      
            <hr class="my-6 border-gray-300 w-full">
      
      
            <p class="mt-8">Need an account? <a href="/register" class="text-blue-500 hover:text-blue-700 font-semibold">Register now</a> or <a href="/" class="text-blue-500 hover:text-blue-700 font-semibold">Go home</a></p>
      
          </div>
        </div>
      
      </section>

      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script>
        function onSignIn(googleUser) {
          // Useful data for your client-side scripts:
          var profile = googleUser.getBasicProfile();
          console.log("ID: " + profile.getId()); // Don't send this directly to your server!
          console.log('Full Name: ' + profile.getName());
          console.log('Given Name: ' + profile.getGivenName());
          console.log('Family Name: ' + profile.getFamilyName());
          console.log("Image URL: " + profile.getImageUrl());
          console.log("Email: " + profile.getEmail());
  
          // The ID token you need to pass to your backend:
          var id_token = googleUser.getAuthResponse().id_token;
          console.log("ID Token: " + id_token);
        }
        
         $.post('/api/login', profile )
         .then(data => {
           window.location.replace('/interface');
         })
         .catch(function (err) {
           console.log(err)
         });
      </script>
    <script src="../assets/js/login.js"></script>
</body>
</html>